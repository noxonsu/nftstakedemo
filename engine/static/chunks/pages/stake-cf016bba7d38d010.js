(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{54997:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return n(87498)}])},55460:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(85893),r=n(11163),s=n(214),i=n.n(s),o=n(44423),c=n(10783),u=function(){var e;(0,r.useRouter)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:i().mainLogo,children:(0,a.jsx)("a",{href:(0,o.R)("index"),children:(0,a.jsx)("img",{src:(e="images/logo.png","./assets/".concat(e)),alt:(0,c.Q)("Stake NFT - earn ERC20","MainPage_Header")})})})})}},15200:function(e,t,n){"use strict";var a=n(85893),r=n(44423),s=n(214),i=n.n(s),o=n(11163),c=[{id:"index",title:"Home",link:"index"},{id:"stake",title:"Stake",link:"stake"},{id:"settings",title:"Settings",link:"settings",adminOnly:!0}];t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("nav",{className:"".concat(i().mainNav),children:c.map((function(n){return n.adminOnly&&!t?null:(0,a.jsx)("a",{className:e===n.id?i().active:"",href:(0,r.R)(n.link),children:n.title},n.id)}))}),(0,a.jsx)("hr",{className:"".concat(i().divider," ").concat(i().spacerTop)})]})}},44423:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var a=function(e){return"index"==e?"./index.html":"./".concat(e,".html")}},10783:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var a=function(e,t){return e}},87498:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(47568),r=n(14924),s=n(26042),i=n(69396),o=n(34051),c=n.n(o),u=n(85893),l=n(35553),p=n(67294),d=n(214),m=n.n(d),y=n(3283),f=n.n(y),h={BNB:{name:"Binance Coin",symbol:"BNB",decimals:18},ETH:{name:"Ether",symbol:"ETH",decimals:18},MATIC:{name:"Polygon",symbol:"MATIC",decimals:18},ARBETH:{name:"Ether (Arbitrum One)",symbol:"ETH",decimals:18},XDAI:{name:"xDai",symbol:"xDAI",decimals:18},FTM:{name:"FTM",symbol:"FTM",decimals:18}},b={1:"0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696",4:"0x42Ad527de7d4e9d9d011aC45B31D8551f8Fe9821",5:"0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696",100:"0x67dA5f2FfaDDfF067AB9d5F025F8810634d84287",77:"0x2D0Cf59485baa2A105541b9bf850E06C071AFab8",137:"0x02817C1e3543c2d908a590F5dB6bc97f933dB4BD",80001:"0x6aa1bdc159e28beca44cc7f1a260a25e7b63f53d",56:"0xa9193376D09C7f31283C54e56D013fCF370Cd9D9",97:"0xe348b292e8eA5FAB54340656f3D374b259D658b8",42161:"0x80C7DD17B01855a6D2347444a0FCC36136a314de",421611:"0xf27ee99622c3c9b264583dacb2cce056e194494f",250:"0x22D4cF72C45F8198CfbF4B568dBdB5A85e8DC0B5"},k=[{slug:"bsc_testnet",chainName:"Binance Smart Chain - Testnet",chainId:"0x61",networkVersion:97,rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545/"],blockExplorerUrls:["https://testnet.bscscan.com"],isTestnet:!0,nativeCurrency:h.BNB},{slug:"bsc_mainnet",chainName:"Binance Smart Chain",chainId:"0x38",networkVersion:56,rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com"],isTestnet:!1,nativeCurrency:h.BNB},{slug:"matic_testnet",chainName:"Polygon - Testnet (mumbai)",chainId:"0x13881",networkVersion:80001,rpcUrls:["https://rpc-mumbai.maticvigil.com"],blockExplorerUrls:["https://mumbai.polygonscan.com/"],isTestnet:!0,nativeCurrency:h.MATIC},{slug:"matic_mainnet",chainName:"Polygon",chainId:"0x89",networkVersion:137,rpcUrls:["https://rpc-mainnet.maticvigil.com"],blockExplorerUrls:["https://polygonscan.com"],isTestnet:!1,nativeCurrency:h.MATIC},{slug:"eth_rinkeby",chainName:"Ethereum - Testnet (Rinkeby)",chainId:"0x4",networkVersion:4,rpcUrls:["https://rinkeby.infura.io/v3/5ffc47f65c4042ce847ef66a3fa70d4c"],blockExplorerUrls:["https://rinkeby.etherscan.io"],isTestnet:!0,nativeCurrency:h.ETH},{slug:"eth_mainnet",chainName:"Ethereum",chainId:"0x1",networkVersion:1,rpcUrls:["https://mainnet.infura.io/v3/5ffc47f65c4042ce847ef66a3fa70d4c"],blockExplorerUrls:["https://etherscan.io"],isTestnet:!1,nativeCurrency:h.ETH},{slug:"arbeth_testnet",chainName:"Arbitrum - Testnet (Rinkeby)",chainId:"0x66EEB",networkVersion:421611,rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorerUrls:["https://rinkeby-explorer.arbitrum.io"],isTestnet:!0,nativeCurrency:h.ARBETH},{slug:"arbeth_mainnet",chainName:"Arbitrum",chainId:"0xA4B1",networkVersion:42161,rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorerUrls:["https://explorer.arbitrum.io"],isTestnet:!1,nativeCurrency:h.ARBETH},{slug:"xdai_testnet",chainName:"xDai - Testnet (Sokol)",chainId:"0x4d",networkVersion:77,rpcUrls:["https://sokol.poa.network"],blockExplorerUrls:["https://blockscout.com/poa/sokol"],isTestnet:!0,nativeCurrency:h.XDAI},{slug:"xdai_mainnet",chainName:"Gnosis (xDai)",chainId:"0x64",networkVersion:100,rpcUrls:["https://rpc.gnosischain.com"],blockExplorerUrls:["https://blockscout.com/xdai/mainnet"],isTestnet:!1,nativeCurrency:h.XDAI},{slug:"fantom_testnet",chainName:"Fantom testnet",chainId:"0xfa2",networkVersion:4002,rpcUrls:["https://rpc.testnet.fantom.network/"],blockExplorerUrls:["https://testnet.ftmscan.com"],isTestnet:!0,nativeCurrency:h.FTM},{slug:"fantom_mainnet",chainName:"Fantom",chainId:"0xfa",networkVersion:250,rpcUrls:["https://rpc.ftm.tools/"],blockExplorerUrls:["https://ftmscan.com"],isTestnet:!1,nativeCurrency:h.FTM}],_=function(){var e=(0,a.Z)(c().mark((function e(t){var n,a,r,s,i,o,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v(t),a=n.chainId,r=n.chainName,s=n.rpcUrls,i=n.blockExplorerUrls,o=n.nativeCurrency,u=[{chainId:a,chainName:r,rpcUrls:s,blockExplorerUrls:i,nativeCurrency:o}],e.prev=2,e.next=5,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(Number(a).toString(16))}]});case 5:e.next=20;break;case 7:if(e.prev=7,e.t0=e.catch(2),4902!==e.t0.code){e.next=19;break}return e.prev=10,e.next=13,window.ethereum.request({method:"wallet_addEthereumChain",params:u});case 13:e.next=17;break;case 15:e.prev=15,e.t1=e.catch(10);case 17:e.next=20;break;case 19:console.error("Switch chain error: ",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[2,7],[10,15]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return k.find((function(t){return t.networkVersion===e}))},x=function(){return new Promise((function(e,t){if(window.ethereum){var n=window.ethereum&&window.ethereum.networkVersion,a=k.filter((function(e){return e.networkVersion==n}));if(a.length){var r=a[0],s=new(f())(window.ethereum||f().givenProvider||new(f().providers.HttpProvider)(r.rpcUrls));s?e({activeChainId:n,web3:s}):t("FAIL_SETUP_WEB3")}}else t("NOT_INSTALLED")}))},w=n(10797),g=n(44431),T=function(){var e=(0,a.Z)(c().mark((function e(t,n,a,r){var s,i,o,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={from:t,gas:"0"},e.next=4,(s=n.methods)[a].apply(s,(0,w.Z)(r)).estimateGas(i);case 4:return o=e.sent,u=new g.BigNumber(new g.BigNumber(o).multipliedBy(1.05).toFixed(0)).toString(16),i.gas="0x"+u,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),S=n(15200),C=n(55460),N=n(10783),B=n(67297),I=n.n(B),F=function(e){var t=e.tokenId,n=e.tokenUri,a=e.isApproved,r=e.onDeStake,s=e.onStake,i=e.isFetchUri,o=e.deStakeId,c=e.stakeId,l=e.isStaking,p=e.isDeStaking,d=e.isApproveDo,y=e.isApproveId;return(0,u.jsxs)("div",{className:m().nftBox,children:[!1!==n&&I()(n)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h3",{children:["#",t]}),(0,u.jsx)("img",{src:n})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h3",{children:["#",t]}),i&&(0,u.jsx)("h2",{children:"Fetch info"})]}),null!==r&&(0,u.jsx)("button",{disabled:p||l||d,className:"".concat(m().mainButton," ").concat(m().spacerBottom),onClick:r,children:p&&o===t?(0,u.jsx)(u.Fragment,{children:"De-staking..."}):(0,u.jsx)(u.Fragment,{children:"De-stake"})}),null!==s&&(0,u.jsx)("button",{className:"".concat(m().mainButton," ").concat(m().spacerBottom),onClick:s,disabled:p||l||d,children:l&&c===t?(0,u.jsx)(u.Fragment,{children:"Staking..."}):(0,u.jsx)(u.Fragment,{children:d&&y===t?(0,u.jsx)(u.Fragment,{children:"Approving"}):(0,u.jsx)(u.Fragment,{children:a?"Stake":"Approve & Stake"})})})]},t.toString())},H=n(64914),A=n.n(H),E=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"mintNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),M=JSON.parse('[{"inputs":[{"internalType":"address","name":"_nftCollection","type":"address"},{"internalType":"contract IERC20","name":"_rewardsToken","type":"address"},{"internalType":"uint256","name":"_rewardsPerHour","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"adminWithdrawRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_staker","type":"address"}],"name":"availableRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getStakedTokens","outputs":[{"components":[{"internalType":"address","name":"staker","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"internalType":"struct Farm.StakedToken[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nftCollection","outputs":[{"internalType":"contract IERC721","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rewardsToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"stakerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakers","outputs":[{"internalType":"uint256","name":"amountStaked","type":"uint256"},{"internalType":"uint256","name":"timeOfLastUpdate","type":"uint256"},{"internalType":"uint256","name":"unclaimedRewards","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),U=JSON.parse('[{"constant":false,"inputs":[{"components":[{"name":"target","type":"address"},{"name":"callData","type":"bytes"}],"name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"name":"blockNumber","type":"uint256"},{"name":"returnData","type":"bytes[]"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"name":"blockHash","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"name":"coinbase","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"name":"difficulty","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"name":"gaslimit","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"name":"timestamp","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getLastBlockHash","outputs":[{"name":"blockHash","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"}]'),j=n(81586),D="0x7682598A861336359740C08b3D1C5981F9473979",R="0xAcf15259F8B99094b7051679a9e60B2F270558ce",O=new j.vU(E),Z=function(e){console.log(e)},L=function(){var e=(0,p.useState)(!1),t=e[0],n=e[1],o=(0,p.useState)(!1),d=o[0],y=o[1],f=(0,p.useState)(!1),h=f[0],k=f[1],v=(0,p.useState)(!1),w=v[0],g=v[1],B=(0,p.useState)(!1),I=B[0],H=B[1],j=(0,p.useState)(!1),L=j[0],P=j[1],V=(0,p.useState)(!1),G=V[0],Y=V[1],X=(0,p.useState)(!1),W=X[0],q=X[1],J=(0,p.useState)(!1),Q=J[0],z=J[1],K=(0,p.useState)(!1),$=K[0],ee=K[1],te=(0,p.useState)(!1),ne=te[0],ae=te[1],re=(0,p.useState)(!0),se=re[0],ie=re[1],oe=(0,p.useState)(!1),ce=oe[0],ue=oe[1],le=(0,p.useState)(!0),pe=(le[0],le[1]),de=(0,p.useState)(!0),me=de[0],ye=de[1],fe=(0,p.useState)([]),he=fe[0],be=fe[1],ke=(0,p.useState)({}),_e=ke[0],ve=ke[1],xe=(0,p.useState)(!1),we=xe[0],ge=xe[1],Te=(0,p.useState)([]),Se=Te[0],Ce=Te[1],Ne=(0,p.useState)({}),Be=Ne[0],Ie=Ne[1],Fe=(0,p.useState)(!0),He=Fe[0],Ae=Fe[1],Ee=(0,p.useState)(!0),Me=Ee[0],Ue=Ee[1],je=(0,p.useState)(!1),De=(je[0],je[1]),Re=(0,p.useState)(!1),Oe=Re[0],Ze=Re[1],Le=(0,p.useState)(!1),Pe=Le[0],Ve=Le[1],Ge=(0,p.useState)(!1),Ye=Ge[0],Xe=Ge[1],We=(0,p.useState)(!1),qe=We[0],Je=We[1],Qe=(0,p.useState)(!1),ze=Qe[0],Ke=Qe[1],$e=(0,p.useState)(!1),et=$e[0],tt=($e[1],(0,p.useState)(!1)),nt=tt[0],at=(tt[1],(0,p.useState)(!1)),rt=at[0],st=at[1],it=function(e,t){var n=!1;try{n=e.message.replace("Internal JSON-RPC error.",""),n=JSON.parse(n)}catch(a){}switch(n&&n.message?n.message:e.message){case"execution reverted: You don't own this token!":console.log("You dont own this token");break;case"MetaMask Tx Signature: User denied transaction signature.":console.log("Transaction denied");break;case"execution reverted: ERC721: invalid token ID":console.log("Invalid token ID");break;default:console.log("Unkrnown error",e.message)}},ot=function(){Z("do fetchAvailableReward");try{w.methods.availableRewards(h).call().then((function(e){Y(e)}))}catch(e){console.log(">>> fail fetchAvailableReward"),it(e)}},ct=function(){Z("do fetchTotalRewardBalance"),ie(!0),W&&W.methods.balanceOf(R).call().then((function(e){ae(e),ie(!1)})).catch((function(e){console.log(">>> fetchTotalRewardBalance",e),it(e)}))},ut=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z("do fetchIsApproved"),pe(!0);try{I.methods.isApprovedForAll(h,R).call().then((function(e){ue(e),pe(!1)}))}catch(t){console.log(">>> fail check is approved"),it(t),pe(!1)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(e){return Z("do fetchTokenUris"),new Promise((function(t,n){if(h&&I&&L){var a=e.map((function(e){return{target:D,tokenId:e,callData:O.encodeFunctionData("tokenURI",[e])}}));L.methods.aggregate(a).call().then((function(n){var a={};n.returnData.forEach((function(t,n){var r=O.decodeFunctionResult("tokenURI",t)[0];a[e[n]]=r})),t(a)})).catch((function(e){it(e),n()}))}else n()}))},pt=function(){var e=(0,a.Z)(c().mark((function e(){var t,n,a,r,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z("do fetchUserNfts"),!(h&&I&&L)||me){e.next=32;break}return Ue(!0),t=!1,n=!1,a=0,r=0,e.prev=7,e.next=10,I.methods.totalSupply().call();case 10:a=e.sent,t=!0,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("Fail fetch total supply");case 17:return e.prev=17,e.next=20,I.methods.MAX_SUPPLY().call();case 20:r=e.sent,n=!0,e.next=27;break;case 24:e.prev=24,e.t1=e.catch(17),console.log("Fail fetch max supply");case 27:if(console.log("hasMaxSupply",n),console.log("hasTotalSupply",t),console.log("maxSupply",r),console.log("totalSupply",a),n||t){for(De(!0),s=[],i=1;i<=(t?a:r);i++)s.push({target:D,callData:O.encodeFunctionData("ownerOf",[i])});L.methods.aggregate(s).call().then((function(e){var t=[];e.returnData.forEach((function(e,n){O.decodeFunctionResult("ownerOf",e)[0]===h&&t.push(n+1)})),Ce(t),Ue(!1),Ae(!0),lt(t).then((function(e){Ie(e),Ae(!1)})).catch((function(e){Ae(!1)}))})).catch((function(e){console.log(">>> fetchUserNfts",e),it(e)}))}case 32:case"end":return e.stop()}}),e,null,[[7,14],[17,24]])})));return function(){return e.apply(this,arguments)}}();(0,p.useEffect)((function(){pt()}),[h,I,L,w,me]),(0,p.useEffect)((function(){W&&(Z("on useEffect rewardTokenContract"),W.methods.decimals().call().then((function(e){W.methods.symbol().call().then((function(t){ee(e),z(t),ct()}))})))}),[W]),(0,p.useEffect)((function(){w&&h&&(Z("on useEffect farmContract && address"),ot(),Z("do fetchStakedNfts"),h&&w&&(ye(!0),w.methods.getStakedTokens(h).call().then((function(e){e=e.map((function(e){return e.tokenId})),be(e),ye(!1),ge(!0),lt(e).then((function(e){ve(e),ge(!1)})).catch((function(e){ge(!0)}))})).then((function(e){console.log(">>> fail fetchStakedNfts",e),it(e)}))))}),[h,w]),(0,p.useEffect)((function(){h&&I&&(Z("on useEffect address && nftContract"),ut())}),[h,I]);var dt=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d&&"".concat(t)=="".concat(97)&&d.eth.getAccounts().then((function(e){k(e[0]);var n=new d.eth.Contract(U,b[t]);console.log(n),P(n);var a=new d.eth.Contract(E,D);H(a);var r=new d.eth.Contract(A(),"0x703f112bda4cc6cb9c5fb4b2e6140f6d8374f10b");q(r);var s=new d.eth.Contract(M,R);g(s)})).catch((function(e){console.log(">>> initOnWeb3Ready",e),it(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function mt(){return(mt=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||!w){e.next=5;break}return e.next=3,T(h,w,"claimRewards",[]);case 3:t=e.sent,w.methods.claimRewards().send(t).then((function(e){ot(),ct()})).catch((function(e){console.log(">>> claimRewards",e),it(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return ft.apply(this,arguments)}function ft(){return ft=(0,a.Z)(c().mark((function e(t){var n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h&&w&&I)){e.next=17;break}if(n=function(){var e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ve(!0),Xe(t),e.next=5,T(h,w,"stake",[t]);case 5:n=e.sent,w.methods.stake(t).send(n).then((function(){var e=he;e.push(t),be(e),ve((0,i.Z)((0,s.Z)({},_e),(0,r.Z)({},"".concat(t),Be[t]))),Ce(Se.filter((function(e){return e!==t}))),Ie((0,i.Z)((0,s.Z)({},Be),(0,r.Z)({},"".concat(t),!1))),Ve(!1),Xe(!1)})).catch((function(e){console.log(">> stakeNft",e),it(e),Ve(!1),Xe(!1)})),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(">> stakeNft calc gas",e.t0),it(e.t0),Ve(!1),Xe(!1);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ce){e.next=16;break}return e.prev=3,e.next=6,T(h,I,"setApprovalForAll",[R,!0]);case 6:o=e.sent,I.methods.setApprovalForAll(R,!0).send(o).then(function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(!0),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(">> stakeNft do approve",e),it(e)})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(">>> stakeNft do approve calc gas",e.t0),it(e.t0);case 14:e.next=17;break;case 16:n();case 17:case"end":return e.stop()}}),e,null,[[3,10]])}))),ft.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||!w){e.next=16;break}return e.prev=1,Je(!0),Ke(t),e.next=6,T(h,w,"withdraw",[t]);case 6:n=e.sent,w.methods.withdraw(t).send(n).then((function(e){var n=Se;n.push(t),Ce(n),be(he.filter((function(e){return e!==t}))),Ie((0,i.Z)((0,s.Z)({},Be),(0,r.Z)({},"".concat(t),_e[t]))),ve((0,i.Z)((0,s.Z)({},_e),(0,r.Z)({},"".concat(t),!1))),Je(!1),Ke(!1)})).catch((function(e){console.log(">>> withdraw",e),it(e),Je(!1),Ke(!1)})),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(">>> withdraw calc gas",e.t0),it(e.t0),Je(!1),Ke(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}(0,p.useEffect)((function(){Z("on useEffect activeWeb3 initOnWeb3Ready"),dt()}),[d]);var bt=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return st(!0),e.prev=1,e.next=4,window.ethereum.enable();case 4:x().then((function(e){console.log(e);var t=e.activeChainId,a=e.web3;n(t),"".concat(t)==="".concat(97)?(y(a),st(!1)):(console.log(">>> need change chain"),_(97),st(!1))})).catch((function(e){console.log(">>>> connectWithMetamask",e),it(e),st(!1)})),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(">>> fail connect wallet",e.t0),it(e.t0),st(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();"".concat(m().mainButton," ").concat(m().spacerBottom);return(0,u.jsxs)("div",{className:m().container,children:[(0,S.Z)("stake",!0),(0,C.Z)(),(0,u.jsx)("h1",{className:m().h1,children:(0,N.Q)("Stake Your NFTs - Earn ERC20","StakePage_Title")}),(0,u.jsx)("hr",{className:"".concat(m().divider," ").concat(m().spacerTop)}),h?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{children:"Your reward"}),(0,u.jsxs)("div",{className:m().tokenGrid,children:[(0,u.jsxs)("div",{className:m().tokenItem,children:[(0,u.jsx)("h3",{className:m().tokenLabel,children:"Claimable Rewards"}),(0,u.jsx)("p",{className:m().tokenValue,children:(0,u.jsx)("b",{children:G&&!1!==$&&!1!==Q?"".concat(l.bM(G,$)," ").concat(Q):"Loading..."})})]}),(0,u.jsxs)("div",{className:m().tokenItem,children:[(0,u.jsx)("h3",{className:m().tokenLabel,children:"Stake Farm balance"}),(0,u.jsx)("p",{className:m().tokenValue,children:(0,u.jsx)("b",{children:se||!ne||!1===$||!1===Q?"Loading...":"".concat(l.bM(ne,$)," ").concat(Q)})})]})]}),(0,u.jsx)("hr",{className:"".concat(m().divider," ").concat(m().spacerTop)}),(0,u.jsxs)("b",{children:["Connected wallet ",h]}),(0,u.jsx)("button",{className:"".concat(m().mainButton," ").concat(m().spacerTop),onClick:function(){return function(){return mt.apply(this,arguments)}()},children:"Claim Rewards"}),(0,u.jsx)("hr",{className:"".concat(m().divider," ").concat(m().spacerTop)}),(0,u.jsx)("h2",{children:"Your Staked NFTs"}),(0,u.jsx)("div",{className:m().nftBoxGrid,children:me?(0,u.jsx)("p",{className:m().tokenValue,children:(0,u.jsx)("b",{children:"Loading..."})}):(0,u.jsx)(u.Fragment,{children:he.length>0?(0,u.jsx)(u.Fragment,{children:null===he||void 0===he?void 0:he.map((function(e){return F({tokenId:e,tokenUri:!!_e[e]&&_e[e],isApproved:ce,onDeStake:function(){return function(e){return ht.apply(this,arguments)}(e)},onStake:null,isFetchUri:we,deStakeId:ze,stakeId:Ye,isStaking:Pe,isDeStaking:qe,isApproveDo:et,isApproveId:nt})}))}):(0,u.jsx)("p",{className:m().tokenValue,children:(0,u.jsx)("b",{children:"You dont have staked NFTs."})})})}),(0,u.jsx)("hr",{className:"".concat(m().divider," ").concat(m().spacerTop)}),(0,u.jsx)("h2",{children:"Your Unstaked NFTs"}),(0,u.jsx)("div",{className:m().nftBoxGrid,children:Me?(0,u.jsx)("p",{className:m().tokenValue,children:(0,u.jsx)("b",{children:"Loading..."})}):(0,u.jsx)(u.Fragment,{children:Se.length>0?(0,u.jsx)(u.Fragment,{children:null===Se||void 0===Se?void 0:Se.map((function(e){return F({tokenId:e,tokenUri:!!Be[e]&&Be[e],isApproved:ce,onDeStake:null,onStake:function(){return yt(e)},isFetchUri:He,deStakeId:ze,stakeId:Ye,isStaking:Pe,isDeStaking:qe,isApproveDo:et,isApproveId:nt})}))}):(0,u.jsx)("p",{className:m().tokenValue,children:(0,u.jsx)("b",{children:"You dont have Unstaked NFTs."})})})})]}):(0,u.jsx)("button",{disabled:rt,className:m().mainButton,onClick:bt,children:rt?"Connecting":"Connect Wallet"})]})}},214:function(e){e.exports={connect:"Home_connect__lnU7w",btn:"Home_btn__UGRT9",address:"Home_address__UT_ly",container:"Home_container__bCOhY",page:"Home_page__0ydta",pageContainer:"Home_pageContainer__wDxoE",arrowButton:"Home_arrowButton__1aqew",owner:"Home_owner__58_U6",btnContainer:"Home_btnContainer__TOUPE",header:"Home_header__GCVRv",left:"Home_left__T7LhQ",right:"Home_right__TcB_0",secondaryButton:"Home_secondaryButton__QO332",mainButton:"Home_mainButton__dUc5h",ourCollection:"Home_ourCollection__OxOvN",collectionContainer:"Home_collectionContainer__pwAKU",h1:"Home_h1__7tdRW",explain:"Home_explain__KljHm",purple:"Home_purple__zOX0E",divider:"Home_divider__c4Nl_",smallDivider:"Home_smallDivider__wG_2a",textInput:"Home_textInput__cA71M",imageInput:"Home_imageInput__SjLEG",contractBoxGrid:"Home_contractBoxGrid__epSaY",contractBox:"Home_contractBox__bxUXm",mainLogo:"Home_mainLogo__6nS3s",nftBoxGrid:"Home_nftBoxGrid__qFzCk",nftBox:"Home_nftBox__woiq_",optionSelectBox:"Home_optionSelectBox__2Ehnv",selectBoxTitle:"Home_selectBoxTitle__rVZ7Z",selectBoxDescription:"Home_selectBoxDescription__QANhO",tokenGrid:"Home_tokenGrid__vsv91",tokenItem:"Home_tokenItem__HsZqC",tokenLabel:"Home_tokenLabel__X56dZ",tokenValue:"Home_tokenValue__PYZU2",center:"Home_center__4BFgC",spacerTop:"Home_spacerTop__RGZTg",bigSpacerTop:"Home_bigSpacerTop__YrAdY",spacerBottom:"Home_spacerBottom__JmsFH",cardName:"Home_cardName__wxcZw",cardDescription:"Home_cardDescription__iWMlk",headerLogo:"Home_headerLogo__qHj_d",verticalSpacer:"Home_verticalSpacer__W1YaR",codeSnippet:"Home_codeSnippet__gwZEn",noUnderline:"Home_noUnderline__SEtQc",detailPageContainer:"Home_detailPageContainer__7zwXF",detailPageHr:"Home_detailPageHr__JnD4B",lightPurple:"Home_lightPurple__8ghLL",nftMedia:"Home_nftMedia__0EkUL",amountToClaim:"Home_amountToClaim__p1NtW",noGapBottom:"Home_noGapBottom__KnGYx",mainNav:"Home_mainNav__XpD7s",active:"Home_active__YzwIj"}},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},24654:function(){},77108:function(){},52361:function(){},94616:function(){},43503:function(){}},function(e){e.O(0,[482,714,144,774,888,179],(function(){return t=54997,e(e.s=t);var t}));var t=e.O();_N_E=t}]);