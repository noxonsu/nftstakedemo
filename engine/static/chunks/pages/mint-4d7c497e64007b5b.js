(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{17537:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mint",function(){return n(20631)}])},55460:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(85893),s=n(11163),i=n(214),r=n.n(i),o=n(44423),u=n(10783),p=function(){var e;(0,s.useRouter)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:r().mainLogo,children:(0,a.jsx)("a",{href:(0,o.R)("index"),children:(0,a.jsx)("img",{src:(e="images/logo.png","./assets/".concat(e)),alt:(0,u.Q)("Stake NFT - earn ERC20","MainPage_Header")})})})})}},15200:function(e,t,n){"use strict";var a=n(10797),s=n(85893),i=n(44423),r=n(214),o=n.n(r),u=n(11163),p=n(31259),l=[{id:"index",title:"Home",link:"index"}].concat((0,a.Z)((0,p.S)("EnabledDemoMind",!0)?[{id:"mint",title:"Mint NFT",link:"mint"}]:[]),[{id:"stake",title:"Stake",link:"stake"},{id:"settings",title:"Settings",link:"settings",adminOnly:!0}]);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,u.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("nav",{className:"".concat(o().mainNav),children:l.map((function(n){return n.adminOnly&&!t?null:(0,s.jsx)("a",{className:e===n.id?o().active:"",href:(0,i.R)(n.link),children:n.title},n.id)}))}),(0,s.jsx)("hr",{className:"".concat(o().divider," ").concat(o().spacerTop)})]})}},53419:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var a=n(47568),s=n(10797),i=n(34051),r=n.n(i),o=n(44431),u=function(){var e=(0,a.Z)(r().mark((function e(t,n,a,i){var u,p,l,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p={from:t,gas:"0"},e.next=4,(u=n.methods)[a].apply(u,(0,s.Z)(i)).estimateGas(p);case 4:return l=e.sent,c=new o.BigNumber(new o.BigNumber(l).multipliedBy(1.05).toFixed(0)).toString(16),p.gas="0x"+c,e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}()},31259:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var a=function(e,t){return t}},20631:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(47568),s=n(10797),i=n(34051),r=n.n(i),o=n(85893),u=n(67294),p=n(214),l=n.n(p),c=n(78967),d=n(53419),m=n(15200),y=n(55460),f=n(10783),b=n(44423),h=n(50070),g=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenURI","type":"string"}],"name":"claimNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"mintNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),T=(new(n(81586).vU)(g),function(){var e=(0,h.Z)(),t=e.storageData,n=e.isOwner,i=["https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/apple.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/bar.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/bell.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/cherry.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/lemon.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/orange.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/plum.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/seven.png","https://github.com/shendel/crypto-casino/raw/master/public/images/games/slots/symbols/water-melon.png"],p=(0,u.useState)(null===t||void 0===t?void 0:t.chainId),T=p[0],v=p[1],w=(0,u.useState)(null===t||void 0===t?void 0:t.nftCollection),x=w[0],k=w[1],N=(0,u.useState)(!1),M=N[0],F=N[1],S=(0,u.useState)(!1),I=S[0],j=S[1],C=(0,u.useState)(!1),O=C[0],R=C[1],_=(0,u.useState)(!1),A=_[0],E=_[1],Z=(0,u.useState)(!1),U=Z[0],B=Z[1],D=(0,u.useState)(!1),P=D[0],W=D[1],L=(0,u.useState)(!1),H=L[0],J=L[1],X=(0,u.useState)([]),Y=X[0],G=X[1],Q=(0,u.useState)(!1);Q[0],Q[1];(0,u.useEffect)((function(){var e=setTimeout((function(){var e=(0,s.Z)(Y);e.shift(),G(e)}),5e3);return function(){return clearTimeout(e)}}),[Y]);var q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=(0,s.Z)(Y);n.push({msg:e,style:t}),G((0,s.Z)(n))},z=function(e,t){var n=!1;try{n=e.message.replace("Internal JSON-RPC error.",""),n=JSON.parse(n)}catch(a){}switch(n&&n.message?n.message:e.message){case"execution reverted: You don't own this token!":console.log("You dont own this token");break;case"MetaMask Tx Signature: User denied transaction signature.":console.log("Transaction denied");break;case"execution reverted: ERC721: invalid token ID":console.log("Invalid token ID");break;default:console.log("Unkrnown error",e.message)}},K=function(){var e=(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I||"".concat(M)!="".concat(T)){e.next=4;break}I.eth.getAccounts().then((function(e){R(e[0]);var t=new I.eth.Contract(g,x);E(t)})).catch((function(e){console.log(">>> initOnWeb3Ready",e),z(e)})),e.next=8;break;case 4:return e.next=6,(0,c.IC)();case 6:e.sent&&V();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){t&&t.chainId&&t.nftCollection&&(v(t.chainId),k(t.nftCollection))}),[t]),(0,u.useEffect)((function(){var e;e="on useEffect activeWeb3 initOnWeb3Ready",console.log(e),T&&x&&K()}),[I,T,x]);var V=function(){var e=(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,c.pE)({onBeforeConnect:function(){B(!0)},onSetActiveChain:F,onConnected:function(e,t){j(t),B(!1)},onError:function(e){console.log(">>>> connectWithMetamask",e),z(e),B(!1)},needChainId:T});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.Z)(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O||!A){e.next=15;break}return W(!0),q("Confirm transaction for mint demo NFT"),e.prev=3,t=i[Math.floor(Math.random()*i.length)],e.next=7,(0,d.A)(O,A,"claimNFT",[t]);case 7:n=e.sent,A.methods.claimNFT(t).send(n).then((function(){J(!0),W(!1),q("Demo NFT minted! Now you can test stake farm.","success")})).catch((function(e){q("Mint demo NFT transaction failed","error"),W(!1)})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),q("Mint demo NFT transaction failed","error"),W(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:l().container,children:[(0,m.Z)("mint",n),(0,y.Z)(),(0,o.jsx)("h1",{className:l().h1,children:(0,f.Q)("Mint Demo NFTs for test","MintPage_Title")}),(0,o.jsx)("hr",{className:"".concat(l().divider," ").concat(l().spacerTop)}),O?(0,o.jsx)(o.Fragment,{children:H?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Demo NFT minted"}),(0,o.jsx)("a",{href:(0,b.R)("stake"),className:l().mainButton,children:"Go to Stake NFT"})]}):(0,o.jsx)("button",{disabled:P,className:l().mainButton,onClick:$,children:P?"Minting NFT...":"Mint NFT"})}):(0,o.jsx)("button",{disabled:U,className:l().mainButton,onClick:V,children:U?"Connecting":"Connect Wallet"}),Y.length>0&&(0,o.jsx)("div",{className:l().notifyHolder,children:Y.map((function(e,t){return(0,o.jsx)("div",{className:"".concat(e.style?l()[e.style]:l().info),children:e.msg},t)}))})]})})}},function(e){e.O(0,[885,586,774,888,179],(function(){return t=17537,e(e.s=t);var t}));var t=e.O();_N_E=t}]);